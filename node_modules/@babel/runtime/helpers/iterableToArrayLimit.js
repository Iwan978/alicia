const iterableToArrayLimit = (iterable, limit) => {
  const iterator = iterable[Symbol.iterator]();
  const result = [];
  let done = false;

  for (let i = 0; i < limit && !done; i++) {
    try {
      const { value, done: doneIteration } = iterator.next();
      if (doneIteration) break;
      result.push(value);
    } catch (error) {
      done = true;
      throw error;
    }
  }

  return result;
};

export { iterableToArrayLimit };
