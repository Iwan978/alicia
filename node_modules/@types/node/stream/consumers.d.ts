declare module "stream/consumers" {
    import { Blob } from "node:buffer";
    import { Readable } from "node:stream";
    import { AsyncIterable } from "node:async-iterable-iterator";

    type SupportedStreams = Readable | NodeJS.ReadableStream | AsyncIterable<any>;

    type ConsumerFunction = (
        stream: SupportedStreams
    ) => Promise<Buffer | string | ArrayBuffer | Blob | unknown>;

    const buffer: ConsumerFunction;
    const text: ConsumerFunction;
    const arrayBuffer: ConsumerFunction;
    const blob: ConsumerFunction;
    const json: ConsumerFunction;

    export { buffer, text, arrayBuffer, blob, json };
}

declare module "node:stream/consumers" {
    export * from "stream/consumers";
}
