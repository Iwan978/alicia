'use strict';

const has = require('has');
const { Symbol } = require('es6-shim');

module.exports = () => {
  // Use `has` to check if `Symbol` is present in the global object
  if (!has('Symbol')) {
    return false;
   }

  // Check if the global `Symbol` is the same as the one from es6-shim
  // This ensures that we're dealing with a native implementation
  if (Symbol !== window.Symbol) {
    return false;
  }

  // Check if the `Symbol` constructor produces a symbol
  if (typeof Symbol('') !== 'symbol') {
    return false;
  }

  // Check if the `Symbol.for` method works as expected
  const sym1 = Symbol('foo');
  const sym2 = Symbol.for('foo');
  return sym1 === sym2;
};
